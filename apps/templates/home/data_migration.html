{% extends "layouts/base.html" %}

{% block title %} Branches {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="container-fluid py-4">
    <div class="row">
        <div class="col-12">
            <div class="card my-4">
                <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                    <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
                        <div class="row">
                            <div class="col-md-11">
                                <h6 class="text-white text-capitalize ps-3">Data Migration</h6>
                            </div>
                            <div class="col-md-1 text-right">
                                <span id="helpbtn"><i style="font-size:24px" class="fa">&#xf059;</i></span>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="card-body px-0 pb-2">
                    <div class="row">
                        <div class="row mt-3">
                            <div class="col-md-4"></div>
                            <div class="col-md-2">
                                <h6 class="mt-2">Meter Type: </h6>
                            </div>
                            <div class="col-md-3">
                                <select id="meter_select" class="form-select form-select-lg mr-3 "
                                        style="background-color: white;">
                                    {% for x in meter_type_list %}
                                        <option value="{{ x }}">{{ x }}</option>
                                    {% endfor %}


                                </select>
                            </div>
                            <div class="col-md-3"></div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-4"></div>
                            <div class="col-md-2">
                                <h6 class="mt-2"> Customer : </h6>
                            </div>
                            <div class="col-md-3">
                                <select id="customer_select" class="form-select form-select-lg mr-3 customer_s"
                                        style="background-color: white;">
                                    <{% for x in customer_list %}
                                        <option value="{{ x }}">{{ x }}</option>
                                    {% endfor %}

                                </select>
                            </div>
                            <div class="col-md-3"></div>
                        </div>
                        <div class="row mt-4 mb-8">
                            <div class="col-md-4"></div>
                            <div class="col-md-2"></div>
                            <div class="col-md-3">
                                <button id="add_customer_data" class="btn btn-primary">Migrate Customer Data</button>
                            </div>
                            <div class="col-md-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

{% endblock content %}


<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
    <script>
        $(document).ready(function () {
            $('.customer_s').select2();

            $("#add_customer_data").click(function () {
                var customer_select = $('#customer_select').find(":selected").val();
                var meter_select = $('#meter_select').find(":selected").val();
                add_customer_data(customer_select, meter_select);
            });

        });
    </script>

{% endblock javascripts %}
